webpackJsonp([11],{1384:function(t,n,e){t.exports={simple:e(2263)}},2263:function(t,n,e){t.exports={content:[["p","\u7b80\u5355\u7684\u5012\u8ba1\u65f6\u7ec4\u4ef6\u4f7f\u7528\u3002"]],meta:{order:0,title:"\u57fa\u7840\u6837\u4f8b",filename:"scaffold/src/components/CountDown/demo/simple.md",id:"scaffold-src-components-CountDown-demo-simple"},toc:["ul"],highlightedCode:["pre",{lang:"jsx",highlighted:'<span class="token keyword">import</span> CountDown <span class="token keyword">from</span> <span class="token string">\'ant-design-pro/lib/CountDown\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> targetTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3900000</span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CountDown</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> fontSize<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">target</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>targetTime<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n<span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'}],preview:function(){var t=e(0),n=(e(10),e(2264)),a=function(t){return t&&t.__esModule?t:{default:t}}(n),s=(new Date).getTime()+39e5;return t.createElement(a.default,{style:{fontSize:20},target:s})}}},2264:function(t,n,e){"use strict";function a(t,n){var e={};for(var a in t)n.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function p(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function i(t){return 1*t<10?"0"+t:t}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(n,e,a){return e&&t(n.prototype,e),a&&t(n,a),n}}(),c=e(0),u=function(t){return t&&t.__esModule?t:{default:t}}(c),l=function(t){function n(t){s(this,n);var e=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));f.call(e);var a=e.initTime(t),p=a.lastTime;return e.state={lastTime:p},e}return p(n,t),r(n,[{key:"componentDidMount",value:function(){this.tick()}},{key:"componentWillReceiveProps",value:function(t){if(this.props.target!==t.target){var n=this.initTime(t),e=n.lastTime;this.setState({lastTime:e})}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var t=this.props,n=t.format,e=void 0===n?this.defaultFormat:n,s=a(t,["format"]),o=this.state.lastTime,p=e(o);return u.default.createElement("span",s,p)}}]),n}(c.Component),f=function(){var t=this;this.timer=0,this.interval=1e3,this.initTime=function(t){var n=0,e=0;try{e="[object Date]"===Object.prototype.toString.call(t.target)?t.target.getTime():new Date(t.target).getTime()}catch(t){throw new Error("invalid target prop",t)}return n=e-(new Date).getTime(),{lastTime:n}},this.defaultFormat=function(t){var n=i(Math.floor(t/36e5)),e=i(Math.floor((t-36e5*n)/6e4)),a=i(Math.floor((t-36e5*n-6e4*e)/1e3));return u.default.createElement("span",null,n,":",e,":",a)},this.tick=function(){var n=t.props.onEnd,e=t.state.lastTime;t.timer=setTimeout(function(){e<t.interval?(clearTimeout(t.timer),t.setState({lastTime:0}),n&&n()):(e-=t.interval,t.setState({lastTime:e}),t.tick())},t.interval)}};n.default=l,t.exports=n.default}});